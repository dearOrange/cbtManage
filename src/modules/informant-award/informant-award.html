<div class="dataContent">
	<div class="search-container">
		<form id="informant-award-form">
			<table class="common_query textLeft search-content">
				<tr class="new-style">
					<td>
						<label class="label">活动名称：</label>
						<input type="text" class="search-input" name="title">
					</td>
					<td>
						<label class="label">活动起止时间：</label>
						<input type="text" class="search-input hand" readonly="readonly" name="startAt" id="beginTime" onclick="WdatePicker({maxDate:'#F{$dp.$D(\'endTime\')}',dateFmt:'yyyy-MM-dd HH:mm:ss',isShowClear:true})">   至   
						<input type="text" class="search-input hand" readonly="readonly" name="endAt" id="endTime" onclick="WdatePicker({minDate:'#F{$dp.$D(\'beginTime\')}',dateFmt:'yyyy-MM-dd HH:mm:ss',isShowClear:true})">
					</td>
					<td>
						<label class="label">活动状态：</label>
						<select name="state">
							<option value="">全部</option>
							<option value="1">开启</option>
							<option value="0">停止</option>
						</select>
					</td>
					<td>
						<input type="submit" value="查询" class="button search-button">
					</td>
				</tr>
			</table>
		</form>
	</div>
	<a href="javascript:;" class="button style-btn" id="increate-award">+新建线人奖励活动</a>
	<div class="data-container mt25">
		<table class="dataShow">
			<thead>
				<tr>
					<th width="4%">序号</th>
					<th width="8%">活动名称</th>
					<th width="12%">开始时间</th>
					<th width="12%">停止时间</th>
					<th width="8%">活动奖励金</th>
					<th width="8%">关联活动奖励金</th>
					<th width="8%">首线索奖励金</th>
					<th class="clueMatch" width="8%">关联首线索奖励金</th>
					<th width="8%">活动状态</th>
					<th width="15%">操作</th>
				</tr>
			</thead>
			<tbody id="informant_award_container">

			</tbody>
		</table>
		<div class="page-box pagination" id="page_container"></div>
	</div>
</div>

<script type="text/template" id="informant-award-template">
	{{ each list item index }}
	<tr class="{{if item.isOver === 1}}bgc_grey{{/if}}">
		<td>{{index+1}}</td>
		<td>{{item.title}}</td>
		<td>{{item.startAt}}</td>
		<td>{{item.endAt}}</td>
		<td>{{item.activity}}</td>
		<td>{{item.referrerTrace}}</td>
		<td>{{item.firstTrace}}</td>
		<td>{{item.referrerFirstTrace}}</td>
		<td>{{if item.state === 0}}停止{{else}}开启{{/if}}</td>
		<td>
			{{if item.state === 1}}
				<a data-id="{{item.id}}" class="stopAward button oneStyle">停止</a>
			{{else}}
			—— ——
			{{/if}}
		</td>
	</tr>
	{{/each}}
</script>

<script type="text/template" id="new-increate-award-template">
	<div>
		<form id="new-increate-award-form">
			<table>
				<tr>
					<th>活动名称</th>
					<td colspan="3"><input type="text" class="search-input" name="title" ></td>
				</tr>
				<tr>
					<th>活动开始时间</th>
					<td><input type="text" class="search-input hand" readonly="readonly" name="startAt" id="startAt" onclick="WdatePicker({minDate:'%y-%M-%d',maxDate:'#F{$dp.$D(\'endAt\')}',dateFmt:'yyyy-MM-dd HH:mm:ss',isShowClear:true})"></td>
					<th>活动结束时间</th>
					<td><input type="text" class="search-input hand" readonly="readonly" name="endAt" id="endAt" onclick="WdatePicker({minDate:'#F{$dp.$D(\'startAt\')}',startDate:'#F{$dp.$D(\'startAt\')}',dateFmt:'yyyy-MM-dd HH:mm:ss',isShowClear:true})"></td>
				</tr>
				<tr>
					<th>活动奖励金</th>
					<td><input type="text" class="search-input activity" name="activity" value="0" ></td>
					<th>关联活动奖励金</th>
					<td><input type="text" class="search-input referrerTrace" name="referrerTrace" value="0" ></td>
				</tr>
				<tr>
					<th>首线索奖励金</th>
					<td><input type="text" class="search-input firstTrace" name="firstTrace" value="0" ></td>
					<th>关联首线索奖励金</th>
					<td><input type="text" class="search-input referrerFirstTrace" name="referrerFirstTrace" value="0" ></td>
				</tr>
			</table>
		</form>
    </div>
</script>
<script type="text/template" id="stop-award-template">
	<div>
		<p style="font-weight: 900;">确认停止本次线人奖励活动吗</p>
		<p>（停止后本次活动不可恢复）</p>
    </div>
</script>
<script type="text/javascript">
	seajs.use('modules/informant-award/informant-award', function(InformantAward) {
		var InformantAward = new InformantAward();
		InformantAward.init();
	});
</script>