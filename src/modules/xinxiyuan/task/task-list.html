<div class="dataContent">
    <div class="search-container">
		<form id="task-list-form">
			<table class="common_query textLeft search-content">
				<tr>
					<td colspan="6">
						<label for="tag" class="pull-left label">线索状态：</label>
						<ol id="taskState" class="stateChange pull-left">
							<li data-value="1" class="taskState active">公开任务</li>
							<li data-value="2" class="taskState">进行中</li>
							<li data-value="3" class="taskState">已完成</li>
							<li data-value="4" class="taskState">已失效</li>
							<li data-value="5" class="taskState">所有人物</li>
							<input type="hidden" name="tabType" id="state" value="1">
						</ol>
					</td>
				</tr>
				<tr>
					<td>
						<label class="label">任务号：</label>
						<input type="text" class="search-input" name="taskNo">
					</td>
					<td>
						<label class="label">车牌号：</label>
						<input type="text" class="search-input" name="carNumber">
					</td>
					<td>
						<label class="label">任务类型：</label>
						<select name="entrust">
                        	<option value="">所有</option>
                        	<option value="all">无需定位需找+拖</option>
                        	<option value="trace">无定位只需找车</option>
                        	<option value="recycle">有定位只需拖车</option>
                        </select>
					</td>
					<td>
						<label class="label">任务状态：</label>
						<select name="state">
                        	<option value="">全部</option>
                            <option value="new">待审核</option>
                            <option value="valid">审核通过</option>
                            <option value="invalid">审核未通过</option>
                            <option value="undistributed">未分配</option>
                            <option value="unarrange">未分发</option>
                            <option value="tracing">查找中</option>
                            <option value="clueChecking">线索审核中</option>
                            <option value="unvaluation">待估价</option>
                            <option value="unconfirmed">待确认</option>
                            <option value="voucherChecking">凭证审核中</option>
                            <option value="voucherInvalid">凭证审核未通过</option>
                            <option value="hunterUnreceive">捕头未接受</option>
                            <option value="hunterReceive">捕头已接受</option>
                            <option value="platReceive">平台已收车</option>
                            <option value="upstreamReceive">债权方已收车</option>
                        </select>
					</td>
					<td>
						<input type="submit" value="查询" class="button search-button">
					</td>
				</tr>
				<tr>
					<td colspan="2">
						<label class="label">残值：</label>
						<input type="text" class="search-input OnlyPrice" name="minprice">万   至   
						<input type="text" class="search-input OnlyPrice" name="maxprice">万   
					</td>
					<td>
						<label class="label">车辆归属地：</label>
						<select name="location">
							<option value="">全部</option>
                        	<option value="京">京</option>
	                        <option value="粤">粤</option>
	                        <option value="皖">皖</option>
	                        <option value="闽">闽</option>
	                        <option value="甘">甘</option>
	                        <option value="桂">桂</option>
	                        <option value="贵">贵</option>
	                        <option value="琼">琼</option>
	                        <option value="冀">冀</option>
	                        <option value="豫">豫</option>
	                        <option value="黑">黑</option>
	                        <option value="鄂">鄂</option>
	                        <option value="湘">湘</option>
	                        <option value="吉">吉</option>
	                        <option value="苏">苏</option>
	                        <option value="赣">赣</option>
	                        <option value="辽">辽</option>
	                        <option value="蒙">蒙</option>
	                        <option value="宁">宁</option>
	                        <option value="青">青</option>
	                        <option value="鲁">鲁</option>
	                        <option value="晋">晋</option>
	                        <option value="陕">陕</option>
	                        <option value="陕">陕</option>
	                        <option value="沪">沪</option>
	                        <option value="川">川</option>
	                        <option value="津">津</option>
	                        <option value="藏">藏</option>
	                        <option value="新">新</option>
	                        <option value="云">云</option>
	                        <option value="浙">浙</option>
	                        <option value="渝">渝</option>
	                        <option value="港">港</option>
	                        <option value="澳">澳</option>
	                        <option value="台">台</option>
                        </select>
					</td>
					<td colspan="3">
						<label class="label">录入时间：</label>
						<input type="text" class="search-input" name="beginTime" id="beginTime" onclick="WdatePicker({maxDate:'#F{$dp.$D(\'endTime\')}',dateFmt:'yyyy-MM-dd'})">   至   
						<input type="text" class="search-input" name="endTime" id="endTime" onclick="WdatePicker({minDate:'#F{$dp.$D(\'beginTime\')}',dateFmt:'yyyy-MM-dd'})">   
					</td>
				</tr>
				<tr>
					<td colspan="6">
						<a class="button search-button allrepair" href="javascript:;">一键信息修复更新</a>
					</td>
				</tr>
			</table>
		</form>
	</div>
    <div class="data-container">
        <table class="dataShow">
            <thead>
                <tr>
                    <th width="3%">&nbsp;</th>
                    <th width="4%"><input type="checkbox" id="checkAll" /></th>
                    <th width="10%">任务号</th>
                    <th width="10%">车牌号</th>
                    <th width="8%">品牌</th>
                    <th width="6%">车系</th>
                    <th width="10%">任务类型</th>
                    <th width="10%">债权方</th>
                    <th width="15%">任务发布时间</th>
                    <th width="6%">操作</th>
                </tr>
            </thead>
            <tbody id="task_list_container">
            </tbody>
        </table>
        <div class="page-box pagination" id="page_container"></div>
    </div>
</div>

<script type="text/template" id="taskList_content_template">
    {{ each list item index }}
    <tr class="trData">
        <td>{{index}}</td>
        <td><input type="checkbox" value="{{item.id}}" name="taskIds" /></td>
        <td>{{item.taskNo}}</td>
        <td>{{item.carNumber}}</td>
        <td>{{item.carBrand}}</td>
        <td>{{item.carSeries}}</td>
        <td>{{menuState(item.entrust)}}</td>
        <td>{{item.upstreamName}}</td>
        <td>{{item.createAt}}</td>
        <td>
            <ul class="operaitem">
                <li>
                    <a data-id="{{item.id}}" class="taskList-detail button">详情</a>
                </li>
            </ul>
        </td>
    </tr>
    {{/each}}
</script>

<script type="text/javascript">
seajs.use('modules/xinxiyuan/task/task-list', function(TaskList) {
    var taskList = new TaskList();
    taskList.init();
});
</script>